#!/usr/bin/env node

var _ = require('underscore'),
	log = require('../lib/log'),
	program = require('commander');

// set alloy version
program.version(require('../package').version, '-v, --version');

// set the list of commands
var commands = ['clean', 'compile', 'package', 'help'];
program.command('clean [options]', 'clean all build/package related files');
program.command('compile [options]', 'compile a hyperloop app');
program.command('package [options]', 'package a hyperloop app for deployment');

// process args
program.parse(process.argv);

// print help with no args
if (program.args.length < 1) {
	program.help();
}

// if there's a command, make sure it's valid
if (!_.contains(commands, program.args[0])) {
	log.log('');
	log.log('  error: unknown command `' + program.rawArgs[2] + '\'');
	log.log('');
	process.exit(1);
}
